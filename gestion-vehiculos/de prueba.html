<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Throttle Garage</title>
    <link rel="stylesheet" href="estilo-detalle.css">
    <link rel="icon" href="/img-web/icono.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=New+Rocker&family=Spicy+Rice&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Full Throttle Garage</h1>
        <a href="https://lkdasj.github.io/FullThrottleFamilyGTAV/">volver a inicio</a>
    </header>

    <div id="descripcion">
        <h2>Bienvenido al espacio definitivo para los amantes de los vehículos de GTAV!</h2>
        <p>
            Nuestra página está diseñada para ayudarte a:<br>
            ◉ Organizar tu garaje: Descubre en qué categoría está cada vehículo y mantén todo en orden según tus preferencias.<br>
            ◉ Crear colecciones únicas: Inspírate con temas como los mas rapidos, autos clásicos, superdeportivos, todoterrenos y mucho más.<br>
            ◉ Explorar posibilidades: Encuentra ideas para personalizar y mejorar tus vehículos favoritos.<br>
        </p>
        <p>
            Ya seas un coleccionista, un corredor o simplemente un fanático de los autos, 
            en Full Throttle Garage encontrarás todo lo necesario para llevar tu pasión al siguiente nivel.<br>
            ¡Empieza a explorar y convierte tu garaje en una obra maestra!
        </p>
    </div>

    <main>
        <!-- Botón para mostrar categorías y colecciones-->
        <button id="mostrar-categorias">Mostrar Categorías</button>
        <button id="mostrar-coleccion">Mostrar Colecciones</button>

        <!-- Lupa de busqueda de los vehiculos por nombre segun el boton seleccionado por categoria o colecciones -->
        <div id="busqueda">
            <input type="text" id="input-busqueda" placeholder="Buscar por nombre o categoría">
            <button id="boton-busqueda"><i class="fas fa-search"> Buscar</i></button>
        </div>

        <!-- Contenedor de categorías, inicialmente oculto -->
        <section id="categorias" style="display:none;">
            <ul id="lista-categorias">
                <li><button class="categoria-btn" data-categoria="aviones">Aviones</button></li>
                <li><button class="categoria-btn" data-categoria="barcos">Barcos</button></li>
                <li><button class="categoria-btn" data-categoria="bicis">Bicicletas</button></li>
                <li><button class="categoria-btn" data-categoria="bolidos">Bolidos</button></li>
                <li><button class="categoria-btn" data-categoria="camionetas">Camionetas</button></li>
                <li><button class="categoria-btn" data-categoria="comerciales">Comerciales</button></li>
                <li><button class="categoria-btn" data-categoria="compactos">Compactos</button></li>
                <li><button class="categoria-btn" data-categoria="cupes">Cupés</button></li>
                <li><button class="categoria-btn" data-categoria="deportivos-clasicos">Deportivos clasicos</button></li>
                <li><button class="categoria-btn" data-categoria="deportivos">Deportivos</button></li>
                <li><button class="categoria-btn" data-categoria="emergencias">Emergencias</button></li>
                <li><button class="categoria-btn" data-categoria="especializados">Especializados</button></li>
                <li><button class="categoria-btn" data-categoria="helicopteros">Helicopteros</button></li>
                <li><button class="categoria-btn" data-categoria="industriales">Industriales</button></li>
                <li><button class="categoria-btn" data-categoria="militares">Militares</button></li>
                <li><button class="categoria-btn" data-categoria="motos">Motos</button></li>
                <li><button class="categoria-btn" data-categoria="sedanes">Sedanes</button></li>
                <li><button class="categoria-btn" data-categoria="servicio">Servicio</button></li>
                <li><button class="categoria-btn" data-categoria="superVehiculos">Super</button></li>
                <li><button class="categoria-btn" data-categoria="todocaminos">Todocaminos</button></li>
                <li><button class="categoria-btn" data-categoria="todoterrenos">Todoterrenos</button></li>
            </ul>
        </section>

        <!-- Contenedor de colecciones, inicialmente oculta-->
        <section id="colecciones" style="display: none;">
            <ul id="lista-colecciones">
                <li><button class="coleccion-btn" data-coleccion="fast&furius1">rapidos y furiosos 1</button></li>
                <li><button class="coleccion-btn" data-coleccion="fast&furius2">rapidos y furiosos 2</button></li>
            </ul>
        </section>

        <!-- Contenedor de vehículos, inicialmente oculto -->
        <section id="vehiculos" style="display:none;">
            <h2>Vehículos</h2>
            <div id="vehiculos-lista"></div>
            <div id="paginacion"></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Vehículos Especializados</p>
    </footer>

    <!-- archivos de almacenamiento -->
    <script src="datos-categorias.js"></script>
    <script src="datos-colecciones.js"></script>
    
    <!-- Código de funcionalidades de la página web -->
    <script>
        // Variables para la funcionalidad
        let modoActual = "categorias"; // "categorias" o "colecciones"
        let resultados = [];
        let paginaActual = 1;
        const elementosPorPagina = 5;

        // Elementos del DOM
        const contenedorResultados = document.getElementById("resultados");
        const botonCategorias = document.getElementById("btn-categorias");
        const botonColecciones = document.getElementById("btn-colecciones");
        const lupa = document.getElementById("lupa");
        const paginacion = document.getElementById("paginacion");
        const campoBusqueda = document.getElementById("busqueda");

        // Funciones

        // Cambia entre modo categorías y colecciones
        function cambiarModo(modo) {
            modoActual = modo;
            paginaActual = 1; // Reinicia la paginación
            campoBusqueda.value = ""; // Limpia el campo de búsqueda
            actualizarResultados();
        }

        // Actualiza los resultados según el modo actual
        function actualizarResultados() {
            resultados = modoActual === "categorias" ? categorias : colecciones;
            if (campoBusqueda.value.trim() !== "") {
                const filtro = campoBusqueda.value.toLowerCase();
                resultados = resultados.filter(item =>
                    item.nombre.toLowerCase().includes(filtro)
                );
            }
            mostrarResultados();
            actualizarPaginacion();
        }

        // Muestra los resultados actuales con paginación
        function mostrarResultados() {
            contenedorResultados.innerHTML = ""; // Limpia el contenedor
            const inicio = (paginaActual - 1) * elementosPorPagina;
            const fin = inicio + elementosPorPagina;
            const pagina = resultados.slice(inicio, fin);

            pagina.forEach(item => {
                const div = document.createElement("div");
                div.classList.add("item");
                div.innerHTML = `
                    <img src="${item.imagen}" alt="${item.nombre}">
                    <h3>${item.nombre}</h3>
                    <p>${modoActual === "categorias" ? item.categoria : item.coleccion}</p>
                    <p>${item.dato}</p>
                `;
                contenedorResultados.appendChild(div);
            });
        }

        // Actualiza la barra de paginación
        function actualizarPaginacion() {
            paginacion.innerHTML = ""; // Limpia la paginación
            const totalPaginas = Math.ceil(resultados.length / elementosPorPagina);

            const crearBoton = (texto, pagina) => {
                const boton = document.createElement("button");
                boton.textContent = texto;
                boton.disabled = pagina === paginaActual;
                boton.addEventListener("click", () => {
                    paginaActual = pagina;
                    mostrarResultados();
                    actualizarPaginacion();
                });
                return boton;
            };

            if (paginaActual > 1) {
                paginacion.appendChild(crearBoton("<<", 1));
                paginacion.appendChild(crearBoton("<", paginaActual - 1));
            }

            for (let i = 1; i <= totalPaginas; i++) {
                if (i === 1 || i === totalPaginas || (i >= paginaActual - 1 && i <= paginaActual + 1)) {
                    paginacion.appendChild(crearBoton(i, i));
                } else if (i === paginaActual - 2 || i === paginaActual + 2) {
                    const puntos = document.createElement("span");
                    puntos.textContent = "...";
                    paginacion.appendChild(puntos);
                }
            }

            if (paginaActual < totalPaginas) {
                paginacion.appendChild(crearBoton(">", paginaActual + 1));
                paginacion.appendChild(crearBoton(">>", totalPaginas));
            }
        }

        // Eventos
        botonCategorias.addEventListener("click", () => cambiarModo("categorias"));
        botonColecciones.addEventListener("click", () => cambiarModo("colecciones"));
        campoBusqueda.addEventListener("input", actualizarResultados);

        // Inicialización
        cambiarModo("categorias");
    </script>

</body>
</html>
